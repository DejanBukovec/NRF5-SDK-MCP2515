<!-- HTML header for doxygen 1.8.3.1-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.3.1"/>
<title>nRF5 SDK v17.0.2: Wireless UART Example</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="extra_stylesheet_offline.css" rel="stylesheet" type="text/css"/>
<link href="nordic.css" rel="stylesheet" type="text/css" />
<link rel="Shortcut icon" href="./favicon.ico" type="image/x-icon" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0" width="100%" class="blank">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Nordic Semiconductor" src="nordic_small.png"/></td>
  <td style="padding-left: 0.5em;">
   <div id="projectname">nRF5 SDK
   &#160;<span id="projectnumber">v17.0.2</span>
   </div>
  </td>
   <td>        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
</td>
 </tr>
 </tbody>
</table>
<table cellspacing="0" cellpadding="0" class="blank">
<tr>
<td class="doclinkintro">Choose documentation:</td>
<td class="doclinks" id="nrf5"><a href="../nrf5/index.html">nRF5 SDK</a></td>
<td class="doclinks" id="s112"><a href="../s112/index.html">S112 SoftDevice API</a></td>
<td class="doclinks" id="s113"><a href="../s113/index.html">S113 SoftDevice API</a></td>
<td class="doclinks" id="s122"><a href="../s122/index.html">S122 SoftDevice API</a></td>
<td class="doclinks" id="s132"><a href="../s132/index.html">S132 SoftDevice API</a></td>
<td class="doclinks" id="s140"><a href="../s140/index.html">S140 SoftDevice API</a></td>
<td class="doclinks" id="s212"><a href="../s212/index.html">S212 SoftDevice API</a></td>
<td class="doclinks" id="s312"><a href="../s312/index.html">S312 SoftDevice API</a></td>
<td class="doclinks" id="s332"><a href="../s332/index.html">S332 SoftDevice API</a></td>
<td class="doclinks" id="s340"><a href="../s340/index.html">S340 SoftDevice API</a></td>
</tr>
</table>
<script>
var url=window.location.href.split("/").reverse()[1];
var validLinks= ["nrf5","s112","s113","s122","s132","s140","s212","s312","s332","s340"];
var index;
for (index = 0; index < validLinks.length; ++index) {
   if ( url.indexOf(validLinks[index]) !== -1 ) {
      document.getElementById(validLinks[index]).setAttribute('class', 'doclinks docselected');
   };
};
</script>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.3.1 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('wireless_uart_15_4.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Data Structures</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Groups</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Pages</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">Wireless UART Example </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><div class="whichnRF nRF52840"><span>This information applies to the <b>nRF52840 SoC</b> only.</span></div><p>This example demonstrates the usage of the <a class="el" href="lib_802_15_4.html">IEEE 802.15.4 MAC library</a>.</p>
<p>You can use the Wireless UART example to transmit and receive data between two nodes in a simple point-point wireless network. Both nodes have addresses defined at compile-time and are referred to as <em>first</em> and <em>second</em> devices. There are 2 versions of this example:</p>
<ul>
<li><em>Secure</em>: all RF communication is secured</li>
<li><em>Raw</em>: no security is used</li>
</ul>
<h1><a class="anchor" id="wireless_uart_overview"></a>
Example overview</h1>
<p>Both of these devices work in exactly the same way, but their short addresses are different.</p>
<p>The devices operate in event-driven manner and their finite state machines are specified in the <code>fsm.c</code>. Operation of each device consists of two main parts:</p>
<ul>
<li>Initialization mode: During the initialization phase, the device makes necessary calls into the FullMAC stack in order to configure it. After it is configured, the device switches to working mode.</li>
<li>Working mode: In this mode, the device starts to listen both to UART and to the radio, waiting for incoming packets.</li>
</ul>
<h2><a class="anchor" id="wireless_uart_uart"></a>
Incoming packets - UART</h2>
<p>When a byte from UART is received, the device creates a MAC Common Part Layer (MCPS) Data request to the other device and includes the received information as a MAC Service Data Unit (MSDU - data payload). Then, the device waits until a confirmation of this request is received. If the confirmation status field contains an error, the device retries the request until a successful status is received.</p>
<h2><a class="anchor" id="wireless_uart_radio"></a>
Incoming packets - radio</h2>
<p>The incoming radio frames are stored in a queue. When this queue is filled or when the previous UART transmission is completed, the device pops the next frame from the queue and puts its MSDU payload into the UART output buffer.</p>
<h1><a class="anchor" id="wireless_uart_setup"></a>
Setup</h1>
<p>You can find the source code and the project file of the example in the following folder: <code>&lt;InstallFolder&gt;\examples\802_15_4\wireless_uart</code> </p>
<p><b>LED assignments:</b></p>
<ul>
<li>LED 1 is turned on when initialization is completed.</li>
<li>LED 2 is turned on when the device sends data through the radio and turns off after receiving a confirmation.</li>
<li>LED 3 is turned on when the device sends data through UART and turns off after this action is completed.</li>
<li>LED 4 is turned on when an error occurs.</li>
</ul>
<h1><a class="anchor" id="wireless_uart_test"></a>
Testing</h1>
<ol type="1">
<li>Build and program a development board with the Wireless UART application. You can find the relevant project file in one of the following folders, depending on if you want to use raw or secure communication: <code>&lt;InstallFolder&gt;\examples\802_15_4\wireless_uart\raw\first</code> or <code>&lt;InstallFolder&gt;\examples\802_15_4\wireless_uart\secure\first</code>.</li>
<li>Start a terminal emulator like PuTTY and configure it according to the following parameters:<ul>
<li>Serial port number - use the one that was assigned to the development board by the operating system. You can refer to board installation instructions for information on how to find this number.</li>
<li>Baud rate - 38400</li>
<li>Data bits - 8</li>
<li>Parity - None</li>
<li>Stop bits - 1</li>
<li>Flow control - RTS/CTS <br/>
 <dl class="section note"><dt>Note</dt><dd>The flow control setting is crucial for correct operation of the application. These hardware pins are used by the device to control data congestion and loss due to sporadic failures on the wireless link.</dd></dl>
</li>
</ul>
</li>
<li>Repeat steps 1 and 2 with another development board using the project file in one of the following folders (use the version corresponding to the one you used on the first board): <code>&lt;InstallFolder&gt;\examples\802_15_4\wireless_uart\raw\second</code> or <code>&lt;InstallFolder&gt;\examples\802_15_4\wireless_uart\secure\second</code>.</li>
<li>Initiate the transmission by typing some data in the terminal or by sending a small file over the wireless link. <dl class="section note"><dt>Note</dt><dd>Besides the user payload, each wireless frame holds an 8-bit application layer counter. This allows the Wireless UART application to ensure that no data frames are lost during transmission. </dd></dl>
</li>
</ol>
</div></div><!-- contents -->
</div><!-- doc-content -->
<div id="nav-path" class="topicfooter">
<a href="mailto:docfeedback@nordicsemi.no?subject=Documentation%20feedback" id="maillink">Documentation feedback</a> | <a href="https://devzone.nordicsemi.com/questions/" target="_blank">Developer Zone</a> | <a href="http://response.nordicsemi.com/subscribe-to-our-newsletters" target="_blank">Subscribe</a> | Updated <span id="date"/>
<script>
var date = new Date("Mon Sep 14 2020" + " UTC");
document.getElementById("date").innerHTML = date.toJSON().slice(0, 10);
var url=window.location.href.split("?")[0];
var filename=url.substring(url.lastIndexOf('/')+1);
document.getElementById("maillink").href = "mailto:docfeedback@nordicsemi.no?subject=Documentation%20feedback"+decodeURIComponent("%26")+"body=File%20name%3A%20"+encodeURIComponent(filename);
</script>
</div>
</body>
</html>
