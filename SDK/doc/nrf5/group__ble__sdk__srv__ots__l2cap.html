<!-- HTML header for doxygen 1.8.3.1-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.3.1"/>
<title>nRF5 SDK v17.0.2: Object Transfer Service, l2cap channel handling</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="extra_stylesheet_offline.css" rel="stylesheet" type="text/css"/>
<link href="nordic.css" rel="stylesheet" type="text/css" />
<link rel="Shortcut icon" href="./favicon.ico" type="image/x-icon" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0" width="100%" class="blank">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Nordic Semiconductor" src="nordic_small.png"/></td>
  <td style="padding-left: 0.5em;">
   <div id="projectname">nRF5 SDK
   &#160;<span id="projectnumber">v17.0.2</span>
   </div>
  </td>
   <td>        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
</td>
 </tr>
 </tbody>
</table>
<table cellspacing="0" cellpadding="0" class="blank">
<tr>
<td class="doclinkintro">Choose documentation:</td>
<td class="doclinks" id="nrf5"><a href="../nrf5/index.html">nRF5 SDK</a></td>
<td class="doclinks" id="s112"><a href="../s112/index.html">S112 SoftDevice API</a></td>
<td class="doclinks" id="s113"><a href="../s113/index.html">S113 SoftDevice API</a></td>
<td class="doclinks" id="s122"><a href="../s122/index.html">S122 SoftDevice API</a></td>
<td class="doclinks" id="s132"><a href="../s132/index.html">S132 SoftDevice API</a></td>
<td class="doclinks" id="s140"><a href="../s140/index.html">S140 SoftDevice API</a></td>
<td class="doclinks" id="s212"><a href="../s212/index.html">S212 SoftDevice API</a></td>
<td class="doclinks" id="s312"><a href="../s312/index.html">S312 SoftDevice API</a></td>
<td class="doclinks" id="s332"><a href="../s332/index.html">S332 SoftDevice API</a></td>
<td class="doclinks" id="s340"><a href="../s340/index.html">S340 SoftDevice API</a></td>
</tr>
</table>
<script>
var url=window.location.href.split("/").reverse()[1];
var validLinks= ["nrf5","s112","s113","s122","s132","s140","s212","s312","s332","s340"];
var index;
for (index = 0; index < validLinks.length; ++index) {
   if ( url.indexOf(validLinks[index]) !== -1 ) {
      document.getElementById(validLinks[index]).setAttribute('class', 'doclinks docselected');
   };
};
</script>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.3.1 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('group__ble__sdk__srv__ots__l2cap.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Data Structures</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Groups</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Pages</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">Object Transfer Service, l2cap channel handling<div class="ingroups"><a class="el" href="group__ble__ots.html">Object Transfer Service</a></div></div>  </div>
</div><!--header-->
<div class="contents">

<p>Object Transfer Service module.  
<a href="#details">More...</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ga7cd0f22ace4b841bcde0ad07bd4a5964"><td class="memItemLeft" align="right" valign="top">uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__ble__sdk__srv__ots__l2cap.html#ga7cd0f22ace4b841bcde0ad07bd4a5964">ble_ots_l2cap_init</a> (<a class="el" href="structble__ots__l2cap__s.html">ble_ots_l2cap_t</a> *p_ots_l2cap, <a class="el" href="structble__ots__l2cap__init__t.html">ble_ots_l2cap_init_t</a> *p_ots_l2cap_init)</td></tr>
<tr class="memdesc:ga7cd0f22ace4b841bcde0ad07bd4a5964"><td class="mdescLeft">&#160;</td><td class="mdescRight">Function for initializing the Object Transfer Service l2cap module.  <a href="#ga7cd0f22ace4b841bcde0ad07bd4a5964">More...</a><br/></td></tr>
<tr class="separator:ga7cd0f22ace4b841bcde0ad07bd4a5964"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga459854cfb3a53279f1d4639f6994fe59"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__ble__sdk__srv__ots__l2cap.html#ga459854cfb3a53279f1d4639f6994fe59">ble_ots_l2cap_on_ble_evt</a> (<a class="el" href="structble__ots__l2cap__s.html">ble_ots_l2cap_t</a> *p_ots_l2cap, <a class="elRef" doxygen="tag_s140_offline.tag:../s140/" href="../s140/structble__evt__t.html">ble_evt_t</a> const *p_ble_evt)</td></tr>
<tr class="memdesc:ga459854cfb3a53279f1d4639f6994fe59"><td class="mdescLeft">&#160;</td><td class="mdescRight">Function for handling the Application's BLE Stack events.  <a href="#ga459854cfb3a53279f1d4639f6994fe59">More...</a><br/></td></tr>
<tr class="separator:ga459854cfb3a53279f1d4639f6994fe59"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga8e427b9e44e6da08cfcd8a513bf631f5"><td class="memItemLeft" align="right" valign="top">uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__ble__sdk__srv__ots__l2cap.html#ga8e427b9e44e6da08cfcd8a513bf631f5">ble_ots_l2cap_obj_send</a> (<a class="el" href="structble__ots__l2cap__s.html">ble_ots_l2cap_t</a> *p_ots_l2cap, uint8_t *p_data, uint16_t data_len)</td></tr>
<tr class="memdesc:ga8e427b9e44e6da08cfcd8a513bf631f5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Function starting to send the data in the transfer buffer.  <a href="#ga8e427b9e44e6da08cfcd8a513bf631f5">More...</a><br/></td></tr>
<tr class="separator:ga8e427b9e44e6da08cfcd8a513bf631f5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga5f1a0b8f9058600d9969cedb381a03ca"><td class="memItemLeft" align="right" valign="top">uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__ble__sdk__srv__ots__l2cap.html#ga5f1a0b8f9058600d9969cedb381a03ca">ble_ots_l2cap_start_recv</a> (<a class="el" href="structble__ots__l2cap__s.html">ble_ots_l2cap_t</a> *p_ots_l2cap, uint16_t len)</td></tr>
<tr class="memdesc:ga5f1a0b8f9058600d9969cedb381a03ca"><td class="mdescLeft">&#160;</td><td class="mdescRight">Function starting to receive data to the transfer buffer.  <a href="#ga5f1a0b8f9058600d9969cedb381a03ca">More...</a><br/></td></tr>
<tr class="separator:ga5f1a0b8f9058600d9969cedb381a03ca"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaee82dd5dfb786ad3791944bf6d8fba71"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__ble__sdk__srv__ots__l2cap.html#gaee82dd5dfb786ad3791944bf6d8fba71">ble_ots_l2cap_is_channel_available</a> (<a class="el" href="structble__ots__l2cap__s.html">ble_ots_l2cap_t</a> *p_ots_l2cap)</td></tr>
<tr class="memdesc:gaee82dd5dfb786ad3791944bf6d8fba71"><td class="mdescLeft">&#160;</td><td class="mdescRight">Function that checks if the channel is available for transmission.  <a href="#gaee82dd5dfb786ad3791944bf6d8fba71">More...</a><br/></td></tr>
<tr class="separator:gaee82dd5dfb786ad3791944bf6d8fba71"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga199dc70bb024bf3abbe83642cf58d309"><td class="memItemLeft" align="right" valign="top">uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__ble__sdk__srv__ots__l2cap.html#ga199dc70bb024bf3abbe83642cf58d309">ble_ots_l2cap_abort_transmission</a> (<a class="el" href="structble__ots__l2cap__s.html">ble_ots_l2cap_t</a> *p_ots_l2cap)</td></tr>
<tr class="memdesc:ga199dc70bb024bf3abbe83642cf58d309"><td class="mdescLeft">&#160;</td><td class="mdescRight">Function starting to abort the current transmission.  <a href="#ga199dc70bb024bf3abbe83642cf58d309">More...</a><br/></td></tr>
<tr class="separator:ga199dc70bb024bf3abbe83642cf58d309"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<p>Object Transfer Service module. </p>
<p>This module is responsible for handling the l2cap connection oriented channels. </p>
<h2 class="groupheader">Function Documentation</h2>
<a class="anchor" id="ga199dc70bb024bf3abbe83642cf58d309"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint32_t ble_ots_l2cap_abort_transmission </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structble__ots__l2cap__s.html">ble_ots_l2cap_t</a> *&#160;</td>
          <td class="paramname"><em>p_ots_l2cap</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Function starting to abort the current transmission. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">p_ots_l2cap</td><td>Object transfer service l2cap module structure.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>NRF_SUCCESS If the transmission was aborted. </dd>
<dd>
NRF_ERROR_INVALID_STATE When in an invalid state. Otherwise an other error code. </dd></dl>

</div>
</div>
<a class="anchor" id="ga7cd0f22ace4b841bcde0ad07bd4a5964"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint32_t ble_ots_l2cap_init </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structble__ots__l2cap__s.html">ble_ots_l2cap_t</a> *&#160;</td>
          <td class="paramname"><em>p_ots_l2cap</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structble__ots__l2cap__init__t.html">ble_ots_l2cap_init_t</a> *&#160;</td>
          <td class="paramname"><em>p_ots_l2cap_init</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Function for initializing the Object Transfer Service l2cap module. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[out]</td><td class="paramname">p_ots_l2cap</td><td>Object Transfer Service l2cap structure. This structure will have to be supplied by the application. It will be initialized by this function, and will later be used to identify this particular instance. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">p_ots_l2cap_init</td><td>Information needed to initialize the module.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>NRF_SUCCESS on successful initialization, otherwise an error code. </dd></dl>

</div>
</div>
<a class="anchor" id="gaee82dd5dfb786ad3791944bf6d8fba71"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool ble_ots_l2cap_is_channel_available </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structble__ots__l2cap__s.html">ble_ots_l2cap_t</a> *&#160;</td>
          <td class="paramname"><em>p_ots_l2cap</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Function that checks if the channel is available for transmission. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">p_ots_l2cap</td><td>Object transfer service l2cap module structure.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>true if the channel is available. </dd></dl>

</div>
</div>
<a class="anchor" id="ga8e427b9e44e6da08cfcd8a513bf631f5"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint32_t ble_ots_l2cap_obj_send </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structble__ots__l2cap__s.html">ble_ots_l2cap_t</a> *&#160;</td>
          <td class="paramname"><em>p_ots_l2cap</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t *&#160;</td>
          <td class="paramname"><em>p_data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>data_len</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Function starting to send the data in the transfer buffer. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">p_ots_l2cap</td><td>Object transfer service l2cap module structure. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">p_data</td><td>Pointer to the data to be sent. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">data_len</td><td>The length of the data to be sent.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>NRF_SUCCESS If the transmission was started. </dd>
<dd>
NRF_ERROR_INVALID_STATE When in an invalid state. Otherwise an other error code. </dd></dl>

</div>
</div>
<a class="anchor" id="ga459854cfb3a53279f1d4639f6994fe59"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ble_ots_l2cap_on_ble_evt </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structble__ots__l2cap__s.html">ble_ots_l2cap_t</a> *&#160;</td>
          <td class="paramname"><em>p_ots_l2cap</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="elRef" doxygen="tag_s140_offline.tag:../s140/" href="../s140/structble__evt__t.html">ble_evt_t</a> const *&#160;</td>
          <td class="paramname"><em>p_ble_evt</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Function for handling the Application's BLE Stack events. </p>
<p>Handles all events from the BLE stack of interest to the l2cap module.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">p_ots_l2cap</td><td>Object transfer service l2cap module structure. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">p_ble_evt</td><td>Event received from the BLE stack. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="ga5f1a0b8f9058600d9969cedb381a03ca"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint32_t ble_ots_l2cap_start_recv </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structble__ots__l2cap__s.html">ble_ots_l2cap_t</a> *&#160;</td>
          <td class="paramname"><em>p_ots_l2cap</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>len</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Function starting to receive data to the transfer buffer. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">p_ots_l2cap</td><td>Object transfer service l2cap module structure. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">len</td><td>The length of the data to be received.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>NRF_SUCCESS If the transmission was started. </dd>
<dd>
NRF_ERROR_INVALID_STATE When in an invalid state. Otherwise an other error code. </dd></dl>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<div id="nav-path" class="topicfooter">
<a href="mailto:docfeedback@nordicsemi.no?subject=Documentation%20feedback" id="maillink">Documentation feedback</a> | <a href="https://devzone.nordicsemi.com/questions/" target="_blank">Developer Zone</a> | <a href="http://response.nordicsemi.com/subscribe-to-our-newsletters" target="_blank">Subscribe</a> | Updated <span id="date"/>
<script>
var date = new Date("Mon Sep 14 2020" + " UTC");
document.getElementById("date").innerHTML = date.toJSON().slice(0, 10);
var url=window.location.href.split("?")[0];
var filename=url.substring(url.lastIndexOf('/')+1);
document.getElementById("maillink").href = "mailto:docfeedback@nordicsemi.no?subject=Documentation%20feedback"+decodeURIComponent("%26")+"body=File%20name%3A%20"+encodeURIComponent(filename);
</script>
</div>
</body>
</html>
