<!-- HTML header for doxygen 1.8.3.1-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.3.1"/>
<title>nRF5 SDK v17.0.2: Radio Test Example</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="extra_stylesheet_offline.css" rel="stylesheet" type="text/css"/>
<link href="nordic.css" rel="stylesheet" type="text/css" />
<link rel="Shortcut icon" href="./favicon.ico" type="image/x-icon" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0" width="100%" class="blank">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Nordic Semiconductor" src="nordic_small.png"/></td>
  <td style="padding-left: 0.5em;">
   <div id="projectname">nRF5 SDK
   &#160;<span id="projectnumber">v17.0.2</span>
   </div>
  </td>
   <td>        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
</td>
 </tr>
 </tbody>
</table>
<table cellspacing="0" cellpadding="0" class="blank">
<tr>
<td class="doclinkintro">Choose documentation:</td>
<td class="doclinks" id="nrf5"><a href="../nrf5/index.html">nRF5 SDK</a></td>
<td class="doclinks" id="s112"><a href="../s112/index.html">S112 SoftDevice API</a></td>
<td class="doclinks" id="s113"><a href="../s113/index.html">S113 SoftDevice API</a></td>
<td class="doclinks" id="s122"><a href="../s122/index.html">S122 SoftDevice API</a></td>
<td class="doclinks" id="s132"><a href="../s132/index.html">S132 SoftDevice API</a></td>
<td class="doclinks" id="s140"><a href="../s140/index.html">S140 SoftDevice API</a></td>
<td class="doclinks" id="s212"><a href="../s212/index.html">S212 SoftDevice API</a></td>
<td class="doclinks" id="s312"><a href="../s312/index.html">S312 SoftDevice API</a></td>
<td class="doclinks" id="s332"><a href="../s332/index.html">S332 SoftDevice API</a></td>
<td class="doclinks" id="s340"><a href="../s340/index.html">S340 SoftDevice API</a></td>
</tr>
</table>
<script>
var url=window.location.href.split("/").reverse()[1];
var validLinks= ["nrf5","s112","s113","s122","s132","s140","s212","s312","s332","s340"];
var index;
for (index = 0; index < validLinks.length; ++index) {
   if ( url.indexOf(validLinks[index]) !== -1 ) {
      document.getElementById(validLinks[index]).setAttribute('class', 'doclinks docselected');
   };
};
</script>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.3.1 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('nrf_radio_test_example.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Data Structures</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Groups</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Pages</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">Radio Test Example </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p>The Radio Test Example demonstrates how to configure the radio as the constant RX or TX carrier, the modulated TX carrier, or the RX or TX sweep.</p>
<p>The tests are controlled with Command Line Interface (CLI) by the serial port. At any time during the tests, you can set the radio parameters output power, bit rate, and channel. You can also set the time on each channel in the sweep mode, in steps of 1 millisecond to 99 milliseconds, every 1 millisecond. The application also allows you to send a data pattern to another board.</p>
<p>The application starts with enabling the high frequency crystal oscillator and configuring CLI. Calling a console command causes the appropriate action.</p>
<dl class="section note"><dt>Note</dt><dd>For the IEEE 802.15.4 mode, the start channel and the end channel must be within the channel range of 11 to 26.</dd></dl>
<h1><a class="anchor" id="nrf_radio_test_example_commands"></a>
CLI commands</h1>
<p>The following table lists the available main CLI commands, in alphabetical order.<br/>
</p>
<table class="doxtable">
<tr>
<th>Command </th><th>Argument </th><th>Description </th></tr>
<tr>
<td><code>cancel</code> </td><td></td><td>Cancel the sweep or the carrier. </td></tr>
<tr>
<td><code>data_rate</code> </td><td><code>&lt;sub_cmd&gt;</code> </td><td>Set the data rate. </td></tr>
<tr>
<td><code>end_channel</code> </td><td><code>&lt;channel&gt;</code> </td><td>End the channel for the sweep. </td></tr>
<tr>
<td><code>output_power</code> </td><td><code>&lt;sub_cmd&gt;</code> </td><td>Output power set. </td></tr>
<tr>
<td><code>parameters_print</code> </td><td></td><td>Print current delay, channel, and other parameters. </td></tr>
<tr>
<td><code>print_rx</code> </td><td></td><td>Print the received RX payload. </td></tr>
<tr>
<td><code>start_channel</code> </td><td><code>&lt;channel&gt;</code> </td><td>Start the channel for the sweep or the channel for the constant carrier. </td></tr>
<tr>
<td><code>start_duty_cycle_modulated_tx</code> </td><td><code>&lt;duty_cycle&gt;</code> </td><td>Duty cycle in percent (two decimal digits, between 01 and 99). </td></tr>
<tr>
<td><code>start_rx</code> </td><td></td><td>Start RX. </td></tr>
<tr>
<td><code>start_rx_sweep</code> </td><td></td><td>Start the RX sweep. </td></tr>
<tr>
<td><code>start_tx_carrier</code> </td><td></td><td>Start the TX carrier. </td></tr>
<tr>
<td><code>start_tx_modulated_carrier</code> </td><td><code>&lt;packet_num&gt;</code> </td><td>Start the modulated TX carrier (continuous TX mode is used if no argument is provided). </td></tr>
<tr>
<td><code>start_tx_sweep</code> </td><td></td><td>Start the TX sweep. </td></tr>
<tr>
<td><code>time_on_channel</code> </td><td><code>&lt;time&gt;</code> </td><td>Time on each channel (between 1 ms and 99 ms). </td></tr>
<tr>
<td><code>toggle_dcdc_state</code> </td><td><code>&lt;state&gt;</code> </td><td>Toggle DC/DC converter state. </td></tr>
<tr>
<td><code>transmit_pattern</code> </td><td><code>&lt;sub_cmd&gt;</code> </td><td>Set transmission pattern. </td></tr>
</table>
<p>You can find the source code and the project file of the example in the following folder: <code>&lt;InstallFolder&gt;\examples\peripheral\radio_test</code> </p>
<h1><a class="anchor" id="nrf_radio_test_example_api_usage"></a>
Using the Radio Test API</h1>
<p>The Radio Test Example includes the <code>radio_test.h</code> file, which includes API declarations that were added or modified in the nRF5 SDK v17.0.0.</p>
<p>To create a custom application that directly uses this Radio Test API, make sure that your application:</p>
<ol type="1">
<li>Calls the initialization function, <code>radio_test_init()</code>.</li>
<li>Creates and fills in the test configuration structure of type <code>radio_test_config_t</code>. <dl class="section note"><dt>Note</dt><dd>Make sure that the <code>radio_test_mode_t</code> enumerator's <code>type</code> field is set to the test type of your choice.</dd></dl>
</li>
<li>Calls the function <code>radio_test_start()</code> to start the test.</li>
<li>Calls the function <code>radio_test_cancel()</code> to stop the running test.</li>
</ol>
<p>You can use this approach for running a single radio test or for maintaining custom automated setup for your RF tests that were created before the release of the nRF5 SDK v17.0.0. This does not however replace the need of porting your application to the Radio Test API definitions from the latest version.</p>
<h1><a class="anchor" id="nrf_radio_test_example_testing"></a>
Testing</h1>
<p>You can test this application with one of the following methods:</p>
<ul>
<li>by using a spectrum analyzer, or</li>
<li>by using a second board with the same example.</li>
</ul>
<dl class="section note"><dt>Note</dt><dd>When using a second board, both boards must have the same radio mode, channel, and transmission pattern to receive data. Receiving data is not possible in a random transmission pattern.</dd></dl>
<p>Test the Radio Test Example application by performing the following steps:</p>
<ol type="1">
<li>Compile and program the application.</li>
<li>Start a terminal emulator like PuTTY (recommended) with the related <a class="el" href="lib_cli.html#lib_cli_terminal_settings">Terminal settings</a> and <a class="el" href="lib_cli.html#lib_cli_terminal_settings_uart">UART and USB settings</a>. The text "Radio test example started." appears at the top of the terminal.</li>
<li>Open a serial connection to the COM port used by the tester board. A command prompt is displayed.</li>
<li>Type any of the <a class="el" href="nrf_radio_test_example.html#nrf_radio_test_example_commands">CLI commands</a> described above. An output text is displayed in the terminal emulator window, and the sweep or the signal is started.</li>
<li>Depending on the testing method:<ul>
<li>Use a spectrum analyzer to confirm the behavior of the radio module.</li>
<li>Use a second board configured in the same mode as the first one to receive the transmission, and type <code>print_rx</code> to print the RX data received from the other board.</li>
</ul>
</li>
</ol>
<p>If you use the spectrum analyzer, the testing is successful when the spectrum is displayed correctly.</p>
<p>If you use two boards, the testing is successful when the data is displayed correctly.</p>
<p>If the spectrum or the data does not display correctly, verify the configuration. </p>
</div></div><!-- contents -->
</div><!-- doc-content -->
<div id="nav-path" class="topicfooter">
<a href="mailto:docfeedback@nordicsemi.no?subject=Documentation%20feedback" id="maillink">Documentation feedback</a> | <a href="https://devzone.nordicsemi.com/questions/" target="_blank">Developer Zone</a> | <a href="http://response.nordicsemi.com/subscribe-to-our-newsletters" target="_blank">Subscribe</a> | Updated <span id="date"/>
<script>
var date = new Date("Mon Sep 14 2020" + " UTC");
document.getElementById("date").innerHTML = date.toJSON().slice(0, 10);
var url=window.location.href.split("?")[0];
var filename=url.substring(url.lastIndexOf('/')+1);
document.getElementById("maillink").href = "mailto:docfeedback@nordicsemi.no?subject=Documentation%20feedback"+decodeURIComponent("%26")+"body=File%20name%3A%20"+encodeURIComponent(filename);
</script>
</div>
</body>
</html>
