<!-- HTML header for doxygen 1.8.3.1-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.3.1"/>
<title>nRF5 SDK v17.0.2: Developing for nRF52820</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="extra_stylesheet_offline.css" rel="stylesheet" type="text/css"/>
<link href="nordic.css" rel="stylesheet" type="text/css" />
<link rel="Shortcut icon" href="./favicon.ico" type="image/x-icon" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0" width="100%" class="blank">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Nordic Semiconductor" src="nordic_small.png"/></td>
  <td style="padding-left: 0.5em;">
   <div id="projectname">nRF5 SDK
   &#160;<span id="projectnumber">v17.0.2</span>
   </div>
  </td>
   <td>        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
</td>
 </tr>
 </tbody>
</table>
<table cellspacing="0" cellpadding="0" class="blank">
<tr>
<td class="doclinkintro">Choose documentation:</td>
<td class="doclinks" id="nrf5"><a href="../nrf5/index.html">nRF5 SDK</a></td>
<td class="doclinks" id="s112"><a href="../s112/index.html">S112 SoftDevice API</a></td>
<td class="doclinks" id="s113"><a href="../s113/index.html">S113 SoftDevice API</a></td>
<td class="doclinks" id="s122"><a href="../s122/index.html">S122 SoftDevice API</a></td>
<td class="doclinks" id="s132"><a href="../s132/index.html">S132 SoftDevice API</a></td>
<td class="doclinks" id="s140"><a href="../s140/index.html">S140 SoftDevice API</a></td>
<td class="doclinks" id="s212"><a href="../s212/index.html">S212 SoftDevice API</a></td>
<td class="doclinks" id="s312"><a href="../s312/index.html">S312 SoftDevice API</a></td>
<td class="doclinks" id="s332"><a href="../s332/index.html">S332 SoftDevice API</a></td>
<td class="doclinks" id="s340"><a href="../s340/index.html">S340 SoftDevice API</a></td>
</tr>
</table>
<script>
var url=window.location.href.split("/").reverse()[1];
var validLinks= ["nrf5","s112","s113","s122","s132","s140","s212","s312","s332","s340"];
var index;
for (index = 0; index < validLinks.length; ++index) {
   if ( url.indexOf(validLinks[index]) !== -1 ) {
      document.getElementById(validLinks[index]).setAttribute('class', 'doclinks docselected');
   };
};
</script>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.3.1 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('nrf52820_user_guide.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Data Structures</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Groups</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Pages</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">Developing for nRF52820 </div>  </div>
</div><!--header-->
<div class="contents">
<div class="toc"><h3>Table of Contents</h3>
<ul><li class="level1"><a href="#ug_52820_intro">Introduction</a></li>
<li class="level1"><a href="#ug_52820_hardware">Hardware emulation of nRF52820</a></li>
<li class="level1"><a href="#ug_52820_own_project">Creating your own emulated project</a></li>
<li class="level1"><a href="#ug_52820_project">Transferring the project to nRF52820 hardware</a><ul><li class="level2"><a href="#ug_52820_emulated_project">Transferring emulated project</a></li>
</ul>
</li>
</ul>
</div>
<div class="textblock"><h1><a class="anchor" id="ug_52820_intro"></a>
Introduction</h1>
<p>Starting from version 17.0.0, this SDK supports development for the nRF52820 device on the nRF52833 DK, which uses the nRF52833 device. nRF52820 is a subset of nRF52833 with smaller RAM and flash, and with less peripheral resources. With this in mind, nRF52833 can be used to emulate the functionality of nRF52820.</p>
<p>For detailed information on nRF52820, see <a href="https://infocenter.nordicsemi.com/topic/ps_nrf52820/keyfeatures_html5.html">nRF52820 Product Specification</a>.</p>
<p>See <a href="https://infocenter.nordicsemi.com/topic/struct_nrf52/struct/nrf52.html">nRF52 Series comparison</a> for a detailed comparison of the features of the various nRF52 Series devices.</p>
<p>A dedicated development kit for nRF52820 is not available, but this SDK provides you with emulated projects, located in 'pca10100e' folders. You can run these projects on an nRF52833 DK and use them as a starting point for nRF52820 development. The emulated projects are available for the following examples:</p>
<ul>
<li>Hardware peripheral examples:<ul>
<li><a class="el" href="uart_example.html">UART Example</a></li>
<li><a class="el" href="gpio_example.html">Blinky Example</a></li>
<li><a class="el" href="usbd_example.html">USB Device Example</a></li>
<li><a class="el" href="usbd_hid_generic_example.html">USB HID Generic Example</a></li>
</ul>
</li>
<li>Most BLE peripheral examples</li>
<li>Many radio examples including proprietary protocols</li>
</ul>
<p>You can also create a similar emulated project for any other example, as long as it is compatible in terms of used peripherals. See <a class="el" href="nrf52820_user_guide.html#ug_52820_own_project">Creating your own emulated project</a>. See <a class="el" href="nrfx_drv_supp_matrix.html">Driver support matrix</a> for hardware supported in nrfx for this SoC.</p>
<h1><a class="anchor" id="ug_52820_hardware"></a>
Hardware emulation of nRF52820</h1>
<p>nRF52820 has fewer GPIO pins than nRF52833 and, as a consequence, its pins cannot reach any of the buttons and one LED of the nRF52833 DK. For improved user experience, the five required GPIOs are enabled in the emulated projects using the <code>DEVELOP_IN_NRF52833</code> define. This means that the buttons and LED can be used during development for nRF52820 on the nRF52833 DK. Note however, that when the application goes to production and the <code>DEVELOP_IN_NRF52833</code> define is removed, the compiler will report these GPIOs as missing. At this point, the GPIOs must be replaced with the actual ones used in your product.</p>
<h1><a class="anchor" id="ug_52820_own_project"></a>
Creating your own emulated project</h1>
<p>If the emulated project is not available for the example you need, then complete these steps to emulate the nRF52820 SoC.</p>
<ol type="1">
<li>Open the example project for your IDE.</li>
<li>In the project settings, change to device "NordicSemiconductor-&gt;nRF52820_xxaa".</li>
<li>In the C/C++ preprocessor settings, remove the defines "NRF52" and "NRF52833_XXAA".</li>
<li>Add the preprocessor define "NRF52820_XXAA".</li>
<li>In the linker script settings, adjust the linker script to match the maximum RAM and flash size of nRF52820.<ul>
<li>ROM END: 0x3FFFF</li>
<li>RAM END: 0x20007FFF</li>
</ul>
</li>
<li>Remove the following files from the project: <code>&lt;compiler&gt;_startup_nrf52833.s</code> and <code>system_nrf52833.c</code>.</li>
<li>Add the following files to the project: <code>&lt;compiler&gt;_startup_nrf52820.s</code> and <code>system_nrf52820.c</code>.</li>
<li>Add the <code>DEVELOP_IN_NRF52833</code> symbol to the compile flags. This will provide compatibility with the host nRF52833 device where needed.</li>
<li>Add the <code>NRFX_COREDEP_DELAY_US_LOOP_CYCLES=3</code> define to ensure correct timing when using <code>nrf_delay_us</code> function.</li>
</ol>
<h1><a class="anchor" id="ug_52820_project"></a>
Transferring the project to nRF52820 hardware</h1>
<p>If you have already developed your application starting from the standard nRF52833 DK project, follow this procedure to reconfigure your project before it can be transferred and run natively on nRF52820.</p>
<dl class="section note"><dt>Note</dt><dd>As part of this procedure, you must change the BSP to the one matching your custom board. See <a class="el" href="sdk_for_custom_boards.html">Using the SDK with other boards</a>.</dd></dl>
<ol type="1">
<li>Open the example project for your IDE.</li>
<li>In the project settings, change to device "NordicSemiconductor-&gt;nRF52820_xxaa".</li>
<li>In the C/C++ preprocessor settings, remove the defines "NRF52" and "NRF52833_XXAA".</li>
<li>Add the preprocessor define "NRF52820_XXAA".</li>
<li>In the linker script settings, adjust the linker script to match the maximum RAM and flash size of nRF52820.<ul>
<li>ROM END: 0x3FFFF</li>
<li>RAM END: 0x20007FFF</li>
</ul>
</li>
<li>Remove the following files from the project: <code>&lt;compiler&gt;_startup_nrf52833.s</code> and <code>system_nrf52833.c</code>.</li>
<li>Add the following files to the project: <code>&lt;compiler&gt;_startup_nrf52820.s</code> and <code>system_nrf52820.c</code>.</li>
</ol>
<h2><a class="anchor" id="ug_52820_emulated_project"></a>
Transferring emulated project</h2>
<p>If you have developed your application using the emulated project as a starting point, there is only one step you need to perform before you can run it natively on nRF52820: in your IDE, remove the <code>DEVELOP_IN_NRF52833</code> and <code>NRFX_COREDEP_DELAY_US_LOOP_CYCLES</code> defines from the compile flags. </p>
</div></div><!-- contents -->
</div><!-- doc-content -->
<div id="nav-path" class="topicfooter">
<a href="mailto:docfeedback@nordicsemi.no?subject=Documentation%20feedback" id="maillink">Documentation feedback</a> | <a href="https://devzone.nordicsemi.com/questions/" target="_blank">Developer Zone</a> | <a href="http://response.nordicsemi.com/subscribe-to-our-newsletters" target="_blank">Subscribe</a> | Updated <span id="date"/>
<script>
var date = new Date("Mon Sep 14 2020" + " UTC");
document.getElementById("date").innerHTML = date.toJSON().slice(0, 10);
var url=window.location.href.split("?")[0];
var filename=url.substring(url.lastIndexOf('/')+1);
document.getElementById("maillink").href = "mailto:docfeedback@nordicsemi.no?subject=Documentation%20feedback"+decodeURIComponent("%26")+"body=File%20name%3A%20"+encodeURIComponent(filename);
</script>
</div>
</body>
</html>
