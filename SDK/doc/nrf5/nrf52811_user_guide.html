<!-- HTML header for doxygen 1.8.3.1-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.3.1"/>
<title>nRF5 SDK v17.0.2: Developing for nRF52811</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="extra_stylesheet_offline.css" rel="stylesheet" type="text/css"/>
<link href="nordic.css" rel="stylesheet" type="text/css" />
<link rel="Shortcut icon" href="./favicon.ico" type="image/x-icon" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0" width="100%" class="blank">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Nordic Semiconductor" src="nordic_small.png"/></td>
  <td style="padding-left: 0.5em;">
   <div id="projectname">nRF5 SDK
   &#160;<span id="projectnumber">v17.0.2</span>
   </div>
  </td>
   <td>        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
</td>
 </tr>
 </tbody>
</table>
<table cellspacing="0" cellpadding="0" class="blank">
<tr>
<td class="doclinkintro">Choose documentation:</td>
<td class="doclinks" id="nrf5"><a href="../nrf5/index.html">nRF5 SDK</a></td>
<td class="doclinks" id="s112"><a href="../s112/index.html">S112 SoftDevice API</a></td>
<td class="doclinks" id="s113"><a href="../s113/index.html">S113 SoftDevice API</a></td>
<td class="doclinks" id="s122"><a href="../s122/index.html">S122 SoftDevice API</a></td>
<td class="doclinks" id="s132"><a href="../s132/index.html">S132 SoftDevice API</a></td>
<td class="doclinks" id="s140"><a href="../s140/index.html">S140 SoftDevice API</a></td>
<td class="doclinks" id="s212"><a href="../s212/index.html">S212 SoftDevice API</a></td>
<td class="doclinks" id="s312"><a href="../s312/index.html">S312 SoftDevice API</a></td>
<td class="doclinks" id="s332"><a href="../s332/index.html">S332 SoftDevice API</a></td>
<td class="doclinks" id="s340"><a href="../s340/index.html">S340 SoftDevice API</a></td>
</tr>
</table>
<script>
var url=window.location.href.split("/").reverse()[1];
var validLinks= ["nrf5","s112","s113","s122","s132","s140","s212","s312","s332","s340"];
var index;
for (index = 0; index < validLinks.length; ++index) {
   if ( url.indexOf(validLinks[index]) !== -1 ) {
      document.getElementById(validLinks[index]).setAttribute('class', 'doclinks docselected');
   };
};
</script>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.3.1 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('nrf52811_user_guide.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Data Structures</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Groups</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Pages</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">Developing for nRF52811 </div>  </div>
</div><!--header-->
<div class="contents">
<div class="toc"><h3>Table of Contents</h3>
<ul><li class="level1"><a href="#ug_52811_intro">Introduction</a></li>
<li class="level1"><a href="#ug_52811_hardware">Hardware emulation of nRF52811</a><ul><li class="level2"><a href="#ug_52811_limitations">Limitations</a></li>
</ul>
</li>
<li class="level1"><a href="#ug_52811_software">Software emulation of nRF52811</a><ul><li class="level2"><a href="#ug_52811_own_project">Creating your own emulated project</a></li>
</ul>
</li>
<li class="level1"><a href="#ug_52811_project">Transferring the project to nRF52811 hardware</a><ul><li class="level2"><a href="#ug_52811_emulated_project">Transferring emulated project</a></li>
</ul>
</li>
</ul>
</div>
<div class="textblock"><h1><a class="anchor" id="ug_52811_intro"></a>
Introduction</h1>
<p>Starting from version 15.3.0, this SDK supports developing for the nRF52811 SoC on the PCA10056 board, which uses nRF52840. Both of these ICs feature the 802.15.4 radio but nRF52811 is a subset of the nRF52840 with smaller RAM and flash, and with less peripheral resources. Therefore, you can use nRF52840 to emulate the functionality of nRF52811.</p>
<p>You can use the SDK to develop your own applications for nRF52811. A dedicated development kit for nRF52811 is not available, but this SDK provides you with emulated projects, located in the 'pca10056e' folder. You can run these projects on an nRF52840 based PCA10056 and use them as a starting point for nRF52811 development. The emulated projects are available for the following examples:</p>
<ul>
<li>Hardware peripheral examples:<ul>
<li><a class="el" href="uart_example.html">UART Example</a></li>
<li><a class="el" href="nrf_dev_saadc_example.html">SAADC Example</a></li>
<li><a class="el" href="gpio_example.html">Blinky Example</a></li>
</ul>
</li>
<li>Most BLE peripheral examples</li>
<li><a class="el" href="ble_sdk_app_dtm_serial.html">Direct Test Mode</a></li>
<li><a class="el" href="ble_sdk_app_secure_bootloader.html">Secure Bootloader</a></li>
</ul>
<p>You can also create a similar emulated project for any other example, as long as it is compatible in terms of used peripherals. See <a class="el" href="nrf52811_user_guide.html#ug_52811_own_project">Creating your own emulated project</a>.</p>
<p>Additionally, in some cases, a small hardware modification might be required on the PCA10056 board. See <a class="el" href="nrf52811_user_guide.html#ug_52811_hardware">Hardware emulation of nRF52811</a>.</p>
<p>This approach has certain limitations, as some features cannot be effectively emulated in this way. See <a class="el" href="nrf52811_user_guide.html#ug_52811_limitations">Limitations</a>.</p>
<h1><a class="anchor" id="ug_52811_hardware"></a>
Hardware emulation of nRF52811</h1>
<p>Due to a slightly different architecture of the COMP module, in special cases it is necessary to introduce a manual hardware change before using PCA10056 for nRF52811 development. If you want to use VDD/2 as analog input on the AIN7 pin of nRF52811, you must create a voltage divider and set it up according to the following figure.</p>
<div class="image">
<img src="nrf52810_voltage_divider.svg" alt="nrf52810_voltage_divider.svg"/>
<div class="caption">
Recommended setup of the voltage divider circuit</div></div>
 <h2><a class="anchor" id="ug_52811_limitations"></a>
Limitations</h2>
<p>You can fully emulate nRF52811 features using an nRF52840 Development Kit (PCA10056), however keep in mind that the bit length for the following features differs for both chips. This means that the emulated project lets you use 16 bits, but in order to successfully function on nRF52811, the following features cannot exceed 14 bits in your application.</p>
<table class="doxtable">
<tr>
<th>Differences </th><th>nRF52840 </th><th>nRF52811 </th></tr>
<tr>
<td>SPIM: RXD.MAXCNT </td><td>16-bit </td><td>14-bit </td></tr>
<tr>
<td>SPIM: TXD.MAXCNT </td><td>16-bit </td><td>14-bit </td></tr>
<tr>
<td>SPIS: RXD.MAXCNT </td><td>16-bit </td><td>14-bit </td></tr>
<tr>
<td>SPIS: TXD.MAXCNT </td><td>16-bit </td><td>14-bit </td></tr>
<tr>
<td>TWIM: RXD.MAXCNT </td><td>16-bit </td><td>14-bit </td></tr>
<tr>
<td>TWIM: TXD.MAXCNT </td><td>16-bit </td><td>14-bit </td></tr>
<tr>
<td>TWIS: RXD.MAXCNT </td><td>16-bit </td><td>14-bit </td></tr>
<tr>
<td>TWIS: TXD.MAXCNT </td><td>16-bit </td><td>14-bit </td></tr>
<tr>
<td>UARTE: RXD.MAXCNT </td><td>16-bit </td><td>14-bit </td></tr>
<tr>
<td>UARTE: TXD.MAXCNT </td><td>16-bit </td><td>14-bit </td></tr>
</table>
<h1><a class="anchor" id="ug_52811_software"></a>
Software emulation of nRF52811</h1>
<p>All SDK examples for nRF52811 are configured to be run on the nRF52840 Development Kit (PCA10056). These examples use an emulated project that is stored in the 'pca10056e' folder. All examples that are hardware compatible can be set up to emulate nRF52811 on nRF52840, even though the emulated project is not available for all of them. Hardware compatibility means that a project uses only the resources present in nRF52811, including peripherals and memory. Note that the nRF52811 does not have cache and hardware floating point support.</p>
<dl class="section note"><dt>Note</dt><dd>The example projects located in the 'pca10056e' folder include all Errata workarounds for nRF52840.</dd></dl>
<h2><a class="anchor" id="ug_52811_own_project"></a>
Creating your own emulated project</h2>
<p>If the emulated project is not available for the example you need, then complete these steps to emulate the nRF52811 SoC.</p>
<div class="image">
<img src="pca10056topca10056e.svg" alt="pca10056topca10056e.svg"/>
<div class="caption">
Converting a standard PCA10056 project to an emulated project</div></div>
<ol type="1">
<li>Open the example project for your IDE.</li>
<li>In the project settings, change to device "NordicSemiconductor-&gt;nRF52811_xxaa".</li>
<li>In the C/C++ preprocessor settings, remove the defines "NRF52" and "NRF52840_XXAA".</li>
<li>Add the preprocessor define "NRF52811_XXAA".</li>
<li>In the linker script settings, adjust the linker script to match the maximum RAM and flash size of nRF52811.<ul>
<li>ROM END: 0x2FFFF</li>
<li>RAM END: 0x20005FFF</li>
</ul>
</li>
<li>Remove the following files from the project: <code>&lt;compiler&gt;_startup_nrf52.s</code> and <code>system_nrf52.c</code>.</li>
<li>Add the following files to the project: <code>&lt;compiler&gt;_startup_nrf52811.s</code> and <code>system_nrf52811.c</code>.</li>
<li>Add the <code>DEVELOP_IN_NRF52840</code> define to the compile flags. Adding this define will add extra code in <code>SystemInit</code> needed for nRF52840.</li>
<li>Add the <code>NRFX_COREDEP_DELAY_US_LOOP_CYCLES=3</code> define to ensure correct timing when using <code>nrf_delay_us</code> function.</li>
</ol>
<h1><a class="anchor" id="ug_52811_project"></a>
Transferring the project to nRF52811 hardware</h1>
<p>If you have already developed your application starting from the standard PCA10056 project, follow this procedure to reconfigure your project before it can be transferred and run natively on nRF52811.</p>
<dl class="section note"><dt>Note</dt><dd>As part of this procedure, you must change the BSP to the one matching your custom board. See <a class="el" href="sdk_for_custom_boards.html">Using the SDK with other boards</a>.</dd></dl>
<div class="image">
<img src="pca10056tonrf52811.svg" alt="pca10056tonrf52811.svg"/>
<div class="caption">
Transferring a PCA10056 project to nRF52811 SoC</div></div>
<ol type="1">
<li>Open the example project for your IDE.</li>
<li>In the project settings, change to device "NordicSemiconductor-&gt;nRF52811_xxaa".</li>
<li>In the C/C++ preprocessor settings, remove the defines "NRF52" and "NRF52840_XXAA".</li>
<li>Add the preprocessor define "NRF52811_XXAA".</li>
<li>In the linker script settings, adjust the linker script to match the maximum RAM and flash size of nRF52811.<ul>
<li>ROM END: 0x2FFFF</li>
<li>RAM END: 0x20005FFF</li>
</ul>
</li>
<li>Remove the following files from the project: <code>&lt;compiler&gt;_startup_nrf52.s</code> and <code>system_nrf52.c</code>.</li>
<li>Add the following files to the project: <code>&lt;compiler&gt;_startup_nrf52811.s</code> and <code>system_nrf52811.c</code>.</li>
</ol>
<h2><a class="anchor" id="ug_52811_emulated_project"></a>
Transferring emulated project</h2>
<p>If you have developed your application using the emulated project as a starting point, there is only one step you need to perform before you can run it natively on nRF52811: In your IDE, remove the <code>DEVELOP_IN_NRF52840</code> and <code>NRFX_COREDEP_DELAY_US_LOOP_CYCLES</code> defines from the compile flags. </p>
</div></div><!-- contents -->
</div><!-- doc-content -->
<div id="nav-path" class="topicfooter">
<a href="mailto:docfeedback@nordicsemi.no?subject=Documentation%20feedback" id="maillink">Documentation feedback</a> | <a href="https://devzone.nordicsemi.com/questions/" target="_blank">Developer Zone</a> | <a href="http://response.nordicsemi.com/subscribe-to-our-newsletters" target="_blank">Subscribe</a> | Updated <span id="date"/>
<script>
var date = new Date("Mon Sep 14 2020" + " UTC");
document.getElementById("date").innerHTML = date.toJSON().slice(0, 10);
var url=window.location.href.split("?")[0];
var filename=url.substring(url.lastIndexOf('/')+1);
document.getElementById("maillink").href = "mailto:docfeedback@nordicsemi.no?subject=Documentation%20feedback"+decodeURIComponent("%26")+"body=File%20name%3A%20"+encodeURIComponent(filename);
</script>
</div>
</body>
</html>
